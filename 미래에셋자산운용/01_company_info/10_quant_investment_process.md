# 10. 퀀트 투자 프로세스 및 핵심 포지션 정리 (Quant Process & Position)

자산운용사 백엔드 엔지니어로서 퀀트 투자 시스템을 구축할 때 이해해야 할 **단계별 프로세스**와 가장 기본적인 **투자 포지션(Long/Short)**에 대해 정리한 문서입니다.

---

## 🤖 퀀트 투자 단계별 프로세스 (Step-by-Step)

퀀트 투자는 주관을 배제하고 데이터와 수학적 모델에 기반하여 투자하는 방식입니다. 이를 시스템 관점에서 6단계로 정의할 수 있습니다.

### Step 1. 데이터 수집 및 정제 (Data Ingestion & ETL)
*   **작업**: 시장 데이터(주가, 거래량), 재무 데이터(PBR, PER 등), 대체 데이터(뉴스 등) 수집.
*   **엔지니어링 포인트**: 
    *   **수정주가(Adjusted Price)**: 액면분할 등의 이벤트를 보정하여 가격의 연속성 확보.
    *   **시점 정렬(Point-in-Time)**: 과거 백테스팅 시 미래 데이터를 참조하는 'Look-ahead bias' 방지.

### Step 2. 유니버스 구성 및 종목 필터링 (Universe & Screening)
*   **작업**: 투자 가능한 전체 종목군(Universe)을 설정하고 기본 조건을 필터링.
*   **예시**: "KOSPI/KOSDAQ 상장사 중 금융주 및 관리종목 제외"

### Step 3. 팩터 산출 및 종목 선정 (Factor Scoring & Selection)
*   **작업**: 각 종목별로 투자 지표(Factor) 점수를 매겨 최종 투자 대상을 선정.
*   **예시**: "저PBR(가치)과 시가총액(소형주) 기준으로 점수를 합산하여 상위 20개 종목 추출"

### Step 4. 포트폴리오 최적화 및 비중 결정 (Weighting & Optimization)
*   **작업**: 선정된 종목들에 투자금을 어떻게 배분할지 결정.
*   **방법**: 동일 비중(Equal Weight), 시가총액 비중, 혹은 변동성을 고려한 리스크 패리티 등.

### Step 5. 백테스팅 및 성과 분석 (Backtesting & Analysis)
*   **작업**: 과거 데이터를 바탕으로 해당 전략의 수익률과 리스크를 시뮬레이션.
*   **핵심 지표**: **수익률(Return)**, MDD(최대 낙폭), 샤프 지수(위험 대비 수익성) 등.

### Step 6. 주문 집행 및 리밸런싱 (Execution & Rebalancing)
*   **작업**: 실제 시장에 주문을 전송하고, 정해진 주기(월/분기 등)마다 포트폴리오를 교체.

---

## 📈 투자 포지션의 기초: 롱(Long)과 숏(Short)

트레이딩 시스템 아키텍처 설계 시 포지션의 방향에 따라 수익률 계산 로직이 달라지므로 명확한 이해가 필요합니다.

### 1. 롱 (Long) - "매수 포지션"
*   **정의**: 자산 가격이 **상승할 것**을 기대하고 매수하여 보유하는 것.
*   **수익 구조**: `(매도가 - 매수가) × 수량`
*   **특징**: 일반적인 주식 투자 방식. 이론상 손실은 100%(0원)로 제한되나 수익은 무한대.

### 2. 숏 (Short) - "매도 포지션"
*   **정의**: 자산 가격이 **하락할 것**을 기대하고 먼저 파는 것. (주로 주식을 빌려서 파는 공매도 형태)
*   **수익 구조**: `(매도가 - 매입가) × 수량` (가격이 떨어져야 나중에 싸게 사서 갚으므로 이득)
*   **특징**: 하락장에서도 수익 창출 가능. 다만, 주가가 계속 오를 경우 손실이 무한대가 될 수 있어 고도의 리스크 관리가 필요.

---

## 💡 백엔드 엔지니어링 응용
*   **포지션 관리**: `Position` 테이블 설계 시 `Direction (LONG/SHORT)` 컬럼을 두어 실시간 평가 손익(PnL) 계산 시 부호를 결정해야 함.
*   **확장성**: 단방향(Long-only) 전략에서 롱-숏(Long-Short) 중립 전략으로 확장 가능한 엔진 구조 설계가 중요함.

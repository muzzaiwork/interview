# 11. 쿠버네티스(Kubernetes) 구체적 활용 시나리오 추측

자산운용 플랫폼 엔지니어링 관점에서 쿠버네티스가 **"구체적으로 어떤 비즈니스 문제를 해결하기 위해 활용될지"**에 대한 기술적 추측입니다.

---

## 1. 워크로드 성격에 따른 객체 분리 (Resource Segmentation)

모든 서비스를 동일하게 띄우는 것이 아니라, 업무의 성격에 따라 쿠버네티스 객체를 다르게 사용합니다.

- **API 및 모델 서빙 (Deployments)**: 
    - 24/7 가동되어야 하는 퀀트 조회 API, AI 추론 엔진.
    - **구체적 활용**: `RollingUpdate`를 통해 장 중에도 중단 없이 신규 전략 API를 배포하고, `ReadinessProbe`를 통해 준비된 Pod만 트래픽을 받도록 관리.
- **배치성 퀀트 백테스팅 (Jobs)**:
    - 매니저가 요청할 때만 대규모 연산을 수행하고 종료되는 작업.
    - **구체적 활용**: 요청 시점에 `Job` 객체를 동적으로 생성하여 연산을 수행하고, 완료 후 자원을 즉시 반납하여 인프라 비용 최적화.
- **시장 데이터 수집 (CronJobs)**:
    - 장 마감 후 또는 특정 주기마다 실행되는 데이터 파이프라인.
    - **구체적 활용**: `CronJob`을 통해 새벽 시간대 재무제표 업데이트, 매시 정각 환율 수집 등을 스케줄링.

---

## 2. 연산량에 따른 유연한 자동 확장 (Autoscaling)

금융 시장의 변동성이나 사용자의 요청량에 따라 인프라가 실시간으로 대응합니다.

- **HPA (Horizontal Pod Autoscaler)**:
    - **추측 사례**: 특정 테마(예: AI, 반도체)가 급등하여 관련 퀀트 전략 조회 트래픽이 몰릴 때, CPU 부하를 감지하여 서빙 Pod를 자동으로 증설.
- **Cluster Autoscaler (CA)**:
    - **추측 사례**: 대규모 백테스팅 `Job`이 수백 개 생성되어 현재 서버 자원이 부족할 때, AWS/GCP의 노드(인스턴스)를 실시간으로 추가하여 연산 병목 해결.

---

## 3. 고성능 연산 자원 관리 (GPU & Affinity)

AI 모델 학습과 퀀트 연산에는 고가의 GPU 자원이 필요합니다.

- **Node Affinity & Taints/Tolerations**:
    - **구체적 활용**: 일반 웹 API는 저렴한 CPU 노드에 배치하고, 무거운 AI 학습 Pod는 `nvidia-gpu` 레이블이 붙은 고성능 노드에만 배치되도록 강제. 이를 통해 비싼 GPU 자원이 낭비되는 것을 방지.

---

## 4. 글로벌 지사 서비스 최적화 (Multi-region & Ingress)

미래에셋의 글로벌 인프라를 효율적으로 연결합니다.

- **Ingress & Service Mesh**:
    - **구체적 활용**: 뉴욕, 런던 지사에서 접속할 때 가장 가까운 리전의 클러스터로 라우팅하거나, 지사별로 다른 쿼터(Quota)를 설정하여 특정 지사가 전체 자원을 독점하지 못하도록 제어.

---

## 5. 데이터 영속성 및 설정 관리 (Storage & Config)

- **Persistent Volume (PV/PVC)**:
    - **구체적 활용**: S3에서 가져온 대용량 Parquet 데이터를 각 노드에 캐싱하여, 동일 데이터를 반복 읽을 때 발생하는 네트워크 비용과 지연 시간 최소화.
- **ConfigMap & Secrets**:
    - **구체적 활용**: 환경별(Dev/Staging/Prod)로 다른 DB 접속 정보나 외부 API 키를 코드 수정 없이 주입.

---

## 🚀 백엔드 엔지니어의 핵심 멘트 (면접 답변용)

> "제가 생각하는 쿠버네티스의 핵심은 **금융 도메인의 복잡한 워크로드를 얼마나 효율적으로 오케스트레이션 하느냐**에 있습니다.
> 단순히 서버를 띄우는 것이 아니라, **24시간 가동되는 API는 Deployment**로, **일시적인 대규모 백테스팅은 Job**으로, **주기적인 수집은 CronJob**으로 분리 설계하여 자원 효율을 극대화하겠습니다. 
> 특히, 연산 요청 큐의 길이에 따라 인프라를 실시간으로 확장하는 **Autoscaling 전략**은, 사용자 경험을 해치지 않으면서도 클라우드 비용을 최적화할 수 있는 플랫폼 엔지니어링의 정수라고 생각합니다."

이 내용은 쿠버네티스를 단순히 도구로 사용하는 수준을 넘어, **비즈니스 목적에 맞게 아키텍처를 설계할 수 있는 역량**을 보여줍니다.
